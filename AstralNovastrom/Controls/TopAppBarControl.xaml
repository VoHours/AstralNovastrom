<UserControl x:Class="AstralNovastrom.Controls.TopAppBarControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d"
             d:DesignHeight="64" d:DesignWidth="800">
    <Border Background="{StaticResource SurfaceVariantBrush}"
            CornerRadius="{StaticResource ShapeExtraLarge}"
            Height="64">
        <Grid Margin="24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- 左侧：品牌 -->
                        <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="Atom" Width="32" Height="32" 
                                                     Foreground="{StaticResource OnPrimaryColor}"/>
                            <StackPanel Margin="12,0,0,0">
                                <TextBlock Text="FROST-SHADOW" 
                                           FontSize="20" FontWeight="Bold"
                                           Foreground="{StaticResource OnSurfaceBrush}"/>
                                <TextBlock Text="Quantum Reactor Console" 
                                           FontSize="11" Opacity="0.7"
                                           Foreground="{StaticResource OnSurfaceBrush}"/>
                            </StackPanel>
                        </StackPanel>

            <!-- 中间：时间线 -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" 
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                <Border Style="{StaticResource Chip}" Margin="8,0">
                    <TextBlock Text="5067-Ψ-42.8" 
                               Foreground="{StaticResource OnSurfaceBrush}"/>
                </Border>
                <TextBlock Text="•" Margin="8,0" Opacity="0.3"/>
                <Border Style="{StaticResource Chip}" Margin="8,0">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" 
                                 Fill="{StaticResource SuccessBrush}" Margin="0,0,8,0"/>
                        <TextBlock Text="火核处理器在线" 
                                   Foreground="{StaticResource OnSurfaceBrush}"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- 右侧：操作 -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" 
                        VerticalAlignment="Center">
                <Button Style="{StaticResource OutlinedButton}" 
                        Content="紧急协议"
                        Margin="0,0,8,0"/>
                <Button Style="{StaticResource FilledButton}" 
                                Content="锁定控制台">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="RootBorder"
                                                Background="{TemplateBinding Background}"
                                                CornerRadius="{StaticResource ShapeFull}"
                                                Padding="16,8"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}">
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Kind="Lock" 
                                                             Width="16" Height="16"
                                                             Foreground="{TemplateBinding Foreground}"
                                                             Margin="0,0,8,0"/>
                                                <ContentPresenter/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="RootBorder" 
                                                        Property="Background" 
                                                        Value="#3AFFFFFF"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>